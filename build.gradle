plugins {
    id 'java'
    id 'war'
    id 'pmd'
    id "jacoco"
    id "org.gretty" version "3.0.3"
}

group = 'av2.webdev'
version = '0.0.1'

repositories {
    jcenter()
}

dependencies {
    providedCompile group: 'javax', name: 'javaee-web-api', version: '8.0.1'

    testImplementation group: 'junit', name: 'junit', version: '4.13.1'
}

gretty {
    httpPort = 3001
    contextPath = '/'
}

jacoco {
    toolVersion = "0.8.6"
}

test {
    finalizedBy jacocoTestReport 
}

jacocoTestReport {
    dependsOn test 
}

if (hasProperty('buildScan')) {
    buildScan {
        termsOfServiceUrl = 'https://gradle.com/terms-of-service'
        termsOfServiceAgree = 'yes'
    }
}
